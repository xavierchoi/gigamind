# GigaMind 미래 계획

> 작성일: 2025-12-26
> 최종 수정: 2025-12-26
> 목적: 제품 방향성 논의에서 얻은 인사이트 기록

---

## 1. 제품 비전

**"Obsidian but powered by AI Agent"**

- 타깃 사용자: 비개발자, 지식 노동자, 팀
- 핵심 차별점: AI가 "옵션"이 아닌 "기본값"인 노트 앱
- 경쟁자: Obsidian, Notion AI, Mem.ai, Roam Research

---

## 2. 핵심 기능 (우선순위 순)

### 2.1. 자연어 검색 (최우선) ✅ 구현 완료

**"내 두뇌의 검색엔진"**

- 사용자가 자연어로 질문하면 내 노트에서 답을 찾아줌
- UX: 채팅 형태 + 검색 결과 목록 둘 다 지원
- 중요한 이유:
  - **사용자 경험**: 노트가 많아질수록 검색이 핵심. 이게 안 되면 앱 자체가 쓸모없음
  - **기술적 해자**: RAG + LLM 조합으로 경쟁자 대비 우위 확보 가능
- 현재 상태: **✅ 구현 완료** (2025-12-26)
  - RAGService 싱글톤 구현
  - RAGSearch 도구 추가 (search-agent 통합)
  - LanceDB 영구 저장소 통합 (앱 재시작 후에도 인덱스 유지)
  - 하이브리드 검색 (시맨틱 + 키워드)
- 성공 기준(DoD):
  - Answerable 쿼리 기준 Top-3 Hit Rate >= 70%
  - MRR >= 0.50, NDCG@10 >= 0.60
  - Unanswerable 쿼리에서 "없음/부족" 응답 정확도 >= 80%
  - p95 검색 지연 <= 2.5s (로컬 인덱스 기준)

### 2.2. AI 자동 연결 (두 번째)

**"AI가 노트를 자동으로 연결해준다"**

- 사용자가 노트를 쓰면 AI가 관련 노트를 찾아 위키링크 제안
- 기존 노트들 사이의 숨겨진 연결고리 발견
- 현재 상태: **미완성**
- 성공 기준(DoD):
  - Precision@5 >= 0.60, Recall@10 >= 0.50
  - 제안 수락률(accept rate) >= 25%
  - 부정확 제안 신고율 <= 5%

### 2.3. 팀 워크플로우 (공유 vault + 승인/리뷰)

**"팀 단위 지식 운영의 기본 루프"**

- 우선순위: 공유 vault + 승인/리뷰 먼저
- 실시간 동시 편집은 후순위지만 중요 (장기 과제)
- 현재 상태: **미착수**
- 성공 기준(DoD):
  - 리뷰 사이클 평균 1일 이내
  - 충돌 해결 성공률 >= 95%
  - 승인 전 변경 diff/근거 100% 제공

### 2.4. 대화형 노트 작성 (네 번째)

**"대화하면 노트가 생긴다"**

- 채팅 형태로 지식을 입력하면 자동으로 구조화된 노트로 저장
- 현재 상태: **거의 완성** (다듬기 필요)
- 주의: 해자가 상대적으로 약함 (경쟁자들도 쉽게 구현 가능)

---

## 3. 플랫폼 전략

### 3.1. 현재 상태

- CLI 기반 (Node.js + TypeScript + Ink)
- React 사용 중 (터미널 UI용)
- 로컬 파일 시스템 기반 (Markdown vault)

### 3.2. 왜 Electron인가?

- **온보딩/발견성/학습비용**: CLI보다 훨씬 낮음
- **멀티패널 UX 필수**: 문서 탐색/편집/그래프/AI 패널을 동시에 보여줘야 함
- **배포/업데이트/지원**: GUI가 유리
- **기존 코드 재사용**: Node/React 기반이라 Electron이 최단 경로

### 3.3. Tauri vs Electron

| 항목 | Electron | Tauri |
|------|----------|-------|
| 장점 | Node 생태계 그대로 사용, 빠른 개발 | 가벼움, 보안 |
| 단점 | 무거움 (메모리, 앱 크기) | Rust 학습 필요, IPC 설계 복잡 |
| 결론 | **MVP 속도가 중요하면 Electron** | 나중에 고려 가능 |

---

## 4. 개발 전략 (1인 개발 기준)

### 4.1. 핵심 원칙

**"하나씩, 제대로"**

1인 개발의 강점은 속도와 집중. 병행 개발은 모든 게 80%에서 멈추는 함정.

### 4.2. Phase 계획

```
Phase 1: 자연어 검색 완성 ✅ 완료 (2025-12-26)
         └── CLI에서 동작하게 ✅
         └── RAG + LanceDB 통합 ✅
         └── 다듬기 진행 중

Phase 2: AI 자동 연결 완성 ← 현재 단계
         └── 위키링크 제안 기능
         └── 그래프 뷰와 연동

Phase 3: 코어 엔진 분리
         └── 모노레포 구조로 전환
         └── @gigamind/core, @gigamind/cli 분리

Phase 4: Electron MVP
         └── 코어가 분리되어 있으니 UI만 새로 구현
         └── 최소 기능: Vault 선택, 노트 편집, AI 패널, 그래프 뷰

Phase 5: 시장 출시
         └── 개인 사용자 우선
         └── 팀 워크플로우(공유 vault + 승인/리뷰) 1차 지원
```

### 4.3. 아키텍처 제안

**라이브러리 기반 분리 (HTTP 서버 X)**

```
@gigamind/core     ← 검색, 연결, RAG, LLM 로직
  ├── rag/         ← 임베딩, 검색
  ├── graph/       ← 위키링크, 그래프 분석
  ├── llm/         ← LLM 프로바이더
  └── sync/        ← 파일 동기화

@gigamind/cli      ← 현재 CLI (Ink 기반)
  └── core를 import해서 사용

@gigamind/desktop  ← Electron 앱 (나중에)
  └── core를 import해서 사용
```

1인 개발에서 HTTP 서버보다 npm 패키지 형태가 더 적합:
- 배포/버전 관리가 단순
- 타입 안전성 유지
- 테스트가 쉬움

---

## 5. Electron을 나중으로 미루는 이유

1. **시간 소모**: 빌드, 자동 업데이트, 플랫폼별 이슈 등 예상보다 많은 시간 필요
2. **핵심 기능 우선**: 예쁜 껍데기보다 핵심 기능이 먼저 (Obsidian도 처음엔 못생겼음)
3. **CLI에서 검증**: 파워유저들의 피드백을 빠르게 받을 수 있음
4. **리스크 감소**: 핵심 기능이 검증된 후 UI 투자가 더 안전

---

## 6. 경쟁 우위를 위한 핵심 원칙

### 6.1. 로컬 파일 유지

- Markdown vault 기반 (Obsidian과 동일)
- 노트 소유권/이식성 보장
- 사용자 데이터 lock-in 없음

### 6.2. AI 네이티브 UX

- 검색/요약/작성 보조가 "플러그인"이 아닌 "핵심 흐름"
- AI가 항상 옆에 있는 느낌

### 6.3. 점진적 확장

- 개인 사용자 먼저 공략
- 팀 워크플로우는 "공유 vault + 승인/리뷰"를 1차 범위로
- 실시간 동시 편집은 후순위 (장기 과제)

---

## 7. 다음 액션 아이템

### 완료된 항목 (2025-12-26)
- [x] `src/rag/` 코드 분석 및 현재 상태 파악
- [x] 자연어 검색 MVP 설계
- [x] CLI에서 자연어 검색 프로토타입 구현
- [x] RAGService 싱글톤 구현
- [x] RAGSearch 도구 및 search-agent 통합
- [x] LanceDB 영구 저장소 통합

### 다음 할 일
- [ ] 검색 품질 벤치마크 기준 수립 및 테스트
- [ ] AI 자동 연결 설계 및 구현
- [ ] 위키링크 제안 기능 프로토타입

### 평가/벤치마크 설계 (초안)
- 데이터셋: `eval/notes/` + `eval/queries.jsonl` + `eval/links.jsonl`
- 쿼리 타입: answerable / unanswerable 라벨링
- 실행: `gigamind eval search --dataset eval/queries.jsonl`, `gigamind eval links --dataset eval/links.jsonl`
- 리포트: JSON + Markdown (Hit@K, MRR, NDCG, p95 latency, Precision/Recall)
- 회귀 비교: 릴리즈별 스냅샷 저장 및 비교

---

## 8. 참고: 다른 에이전트의 MVP 제안 (나중에 참고)

> 아래는 Electron MVP 단계에서 참고할 내용

- Vault 선택/생성/Obsidian import
- 기본 노트 편집기 + 위키링크 자동완성
- AI 패널 (검색/클론/요약/작성)
- 그래프 뷰 (현재 로컬 서버 UI 재활용 가능)
- 설정/언어/보안 (키체인, 로컬 암호화)
- 멀티패널 레이아웃: 왼쪽 탐색 / 중앙 편집 / 오른쪽 AI+그래프

---

*이 문서는 제품 방향성 논의의 스냅샷입니다. 상황에 따라 업데이트 필요.*
